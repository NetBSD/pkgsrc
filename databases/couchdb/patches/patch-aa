$NetBSD: patch-aa,v 1.12 2021/01/27 16:20:20 jperkin Exp $

Set pkgsrc standard paths. Portability.

--- configure.orig	2019-03-05 22:42:20.000000000 +0000
+++ configure
@@ -102,7 +102,7 @@ parse_opts() {
 
             --rebar)
                 if [ -x "$2" ]; then
-                    version=`$2 --version 2> /dev/null | grep -o "2\.[6-9]\.[0-9]"`
+                    version=`$2 --version 2> /dev/null | grep -w "2\.[6-9]\.[0-9]"`
                     if [ $? -ne 0 ]; then
                         printf 'Rebar >=2.6.0 and <3.0.0 required' >&2
                         exit 1
@@ -167,11 +167,11 @@ cat > rel/couchdb.config << EOF
 % The contents of this file are auto-generated by configure
 %
 {package_author_name, "$PACKAGE_AUTHOR_NAME"}.
-{prefix, "."}.
-{data_dir, "./data"}.
-{view_index_dir, "./data"}.
-{log_file, "$LOG_FILE"}.
-{fauxton_root, "./share/www"}.
+{prefix, "@PREFIX@/couchdb"}.
+{data_dir, "@COUCH_DBDIR@"}.
+{view_index_dir, "@COUCH_DBDIR@"}.
+{log_file, "@COUCH_LOGDIR@/couch.log"}.
+{fauxton_root, "@PREFIX@/couchdb/share/www"}.
 {user, "$COUCHDB_USER"}.
 {node_name, "-name couchdb@127.0.0.1"}.
 {cluster_port, 5984}.
