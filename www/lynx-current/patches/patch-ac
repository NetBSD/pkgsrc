$NetBSD: patch-ac,v 1.3 2001/02/10 06:19:52 fredb Exp $

--- src/LYCurses.c.orig	Mon Jan  1 19:39:50 2001
+++ src/LYCurses.c	Fri Feb  9 23:33:47 2001
@@ -1408,6 +1408,10 @@
 #endif /* FANCY_CURSES || USE_SLANG */
 }
 
+#ifdef HAVE_SYS_PARAM_H
+#include <sys/param.h>
+#endif
+
 /*
  * Accommodate the different flavors of touchline
  */
@@ -1418,11 +1422,17 @@
     wredrawln(stdscr, row, 1);
 #else
 #if defined(HAVE_TOUCHLINE)
-    /* touchline() is not available on VMS before version 7.0, and then only on
-     * Alpha, since prior ports of curses were broken.  BSD touchline() has a
-     * 4th parameter since it is used internally by touchwin().
+    /* touchline() is not available on VMS before version 7.0, and then
+     * only on Alpha, since prior ports of curses were broken. Traditional
+     * BSD touchline() had a 4th parameter which was used internally by
+     * touchwin(), but NetBSD dropped that in version 1.5 when it moved
+     * to a SysV-like curses.
      */
+#if defined(NCURSES) || (defined(__NetBSD_Version__) && __NetBSD_Version__ >= 104250000)
+    touchline(stdscr, row, 1);
+#else
     touchline(stdscr, row, 1, 0);
+#endif
 #else
 #if !defined(USE_SLANG)
     touchwin(stdscr);
