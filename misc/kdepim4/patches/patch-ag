$NetBSD: patch-ag,v 1.1.1.1 2009/10/02 21:24:29 markd Exp $

KDE svn 1022963

--- kmail/kmfoldercachedimap.h.orig	2009-05-28 07:54:17.000000000 +1200
+++ kmail/kmfoldercachedimap.h
@@ -228,10 +228,23 @@ class KMFolderCachedImap : public KMFold
     /** Reimplemented from KMFolder. Moving is not supported, so aParent must be 0. */
     virtual int rename( const QString &aName, KMFolderDir *aParent = 0 );
 
-    /** Reimplemented from KMFolderMaildir */
-    virtual KMMessage *take( int idx );
     bool canDeleteMessages() const;
 
+    /**
+     * Reimplemented from KMFolderMaildir
+     * This deletes the message permanently, also from the server. For this,
+     * rememberDeletion() is called, so that the message can be deleted from
+     * the server on the next sync.
+     */
+    virtual KMMessage* take( int idx );
+
+    /**
+     * Like take(), only that the deletion is not remembered, i.e. the
+     * message will not be deleted from the server. Calling this can cause
+     * inconsistencies, so make sure you re-add the message later!
+     */
+    void takeTemporarily( int idx );
+
     /** Reimplemented from KMFolderMaildir */
     virtual int addMsg( KMMessage *msg, int *index_return = 0 );
 
