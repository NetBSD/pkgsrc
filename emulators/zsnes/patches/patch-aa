$NetBSD: patch-aa,v 1.4 2006/12/26 18:04:28 adam Exp $

--- configure.orig	2005-01-20 03:21:54.000000000 +0100
+++ configure
@@ -2909,6 +2909,10 @@ case "$target" in
 		CFLAGS="$CFLAGS -D__LINUX__ -D__FreeBSD__"
 		NFLAGS="$NFLAGS -D__LINUX__ -D__FreeBSD__ -DELF -f elf"
 		;;
+	*-*-dragonfly*)
+		CFLAGS="$CFLAGS -D__LINUX__ -D__FreeBSD__"
+		NFLAGS="$NFLAGS -D__LINUX__ -D__FreeBSD__ -DELF -f elf"
+		;;
 	*-*-cygwin* | *-*-*ming*)
 		CFLAGS="$CFLAGS -D__LINUX__"
 		NFLAGS="$NFLAGS -D__LINUX__ -f win32"
@@ -4115,7 +4119,6 @@ else
 	echo "$as_me:$LINENO: result: no" >&5
 echo "${ECHO_T}no" >&6
 
-	CFLAGS="$CFLAGS -O3 -ffast-math -fomit-frame-pointer -fexpensive-optimizations -s"
 	NFLAGS="$NFLAGS -O1"
 	ZSNESEXE="zsnes"
 fi
@@ -5220,6 +5223,8 @@ do
 _ACEOF
 cat >>$CONFIG_STATUS <<\_ACEOF
   -recheck | --recheck | --rechec | --reche | --rech | --rec | --re | --r)
+	: Avoid regenerating within pkgsrc
+	exit 0
     ac_cs_recheck=: ;;
   --version | --vers* | -V )
     echo "$ac_cs_version"; exit 0 ;;
