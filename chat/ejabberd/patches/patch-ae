$NetBSD: patch-ae,v 1.1.1.1.2.1 2008/04/25 01:09:18 rtr Exp $

Keep things tidy (nothing under /usr/pkg/var)

--- src/ejabberdctl.template.orig	2008-02-22 16:42:12.000000000 +0200
+++ src/ejabberdctl.template	2008-02-22 17:45:01.000000000 +0200
@@ -13,8 +13,8 @@
 ERLANG_NODE=$NODE@$HOST
 ROOTDIR=@rootdir@
 EJABBERD_CONFIG_PATH=$ROOTDIR/etc/ejabberd/ejabberd.cfg
-LOGS_DIR=$ROOTDIR/var/log/ejabberd/
-EJABBERD_DB=$ROOTDIR/var/lib/ejabberd/db/$NODE
+LOGS_DIR=@EJABBERD_LOGDIR@
+EJABBERD_DB=@EJABBERD_VARDIR@/spool/ejabberd/db/$NODE
 
 # read custom configuration
 CONFIG=$ROOTDIR/etc/ejabberd/ejabberdctl.cfg
@@ -42,15 +42,15 @@
 ERLANG_OPTS="+K $POLL -smp $SMP +P $ERL_PROCESSES"
 
 # define additional environment variables
-EJABBERD_EBIN=$ROOTDIR/var/lib/ejabberd/ebin
-EJABBERD_MSGS_PATH=$ROOTDIR/var/lib/ejabberd/priv/msgs
-EJABBERD_SO_PATH=$ROOTDIR/var/lib/ejabberd/priv/lib
+EJABBERD_EBIN=$ROOTDIR/lib/erlang/lib/@DISTNAME@/ebin
+EJABBERD_MSGS_PATH=$ROOTDIR/lib/erlang/lib/@DISTNAME@/priv/msgs
+EJABBERD_SO_PATH=$ROOTDIR/lib/erlang/lib/@DISTNAME@/priv/lib
 EJABBERD_LOG_PATH=$LOGS_DIR/ejabberd.log
 SASL_LOG_PATH=$LOGS_DIR/sasl.log
 DATETIME=`date "+%Y%m%d-%H%M%S"`
 ERL_CRASH_DUMP=$LOGS_DIR/erl_crash_$DATETIME.dump
 ERL_INETRC=$ROOTDIR/etc/ejabberd/inetrc
-HOME=$ROOTDIR/var/lib/ejabberd
+HOME=@EJABBERD_VARDIR@/spool/ejabberd/db/$NODE
 
 # export global variables
 export EJABBERD_CONFIG_PATH
