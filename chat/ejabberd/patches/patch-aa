$NetBSD: patch-aa,v 1.17 2022/10/15 18:20:40 triaxx Exp $

Fix locations; don't mess with ownership.

--- Makefile.in.orig	2022-05-06 13:12:22.000000000 +0000
+++ Makefile.in
@@ -10,7 +10,7 @@ exec_prefix = @exec_prefix@
 DESTDIR =
 
 # /etc/ejabberd/
-ETCDIR = $(DESTDIR)@sysconfdir@/ejabberd
+ETCDIR = $(DESTDIR)@prefix@/share/examples/ejabberd
 
 # /bin/
 BINDIR = $(DESTDIR)@bindir@
@@ -22,7 +22,7 @@ SBINDIR = $(DESTDIR)@sbindir@
 LIBDIR =  $(DESTDIR)@libdir@
 
 # /lib/ejabberd/
-EJABBERDDIR = $(DESTDIR)@libdir@/ejabberd
+EJABBERDDIR = $(LIBDIR)/ejabberd
 
 # /share/doc/ejabberd
 PACKAGE_TARNAME = @PACKAGE_TARNAME@
@@ -66,31 +66,18 @@ SQLDIR = $(PRIVDIR)/sql
 LUADIR = $(PRIVDIR)/lua
 
 # /var/lib/ejabberd/
-SPOOLDIR = $(DESTDIR)@localstatedir@/lib/ejabberd
+SPOOLDIR = $(DESTDIR)@EJABBERD_DB@
 
 # /var/log/ejabberd/
-LOGDIR = $(DESTDIR)@localstatedir@/log/ejabberd
+LOGDIR = $(DESTDIR)@EJABBERD_LOGDIR@
 
 INSTALLUSER=@INSTALLUSER@
-# if no user was enabled, don't set privileges or ownership
-ifeq ($(INSTALLUSER),)
   O_USER=
   G_USER=
   CHOWN_COMMAND=echo
   CHOWN_OUTPUT=/dev/null
   INIT_USER=root
-else
-  O_USER=-o $(INSTALLUSER)
-  G_USER=-g $(INSTALLUSER)
-  CHOWN_COMMAND=chown
-  CHOWN_OUTPUT=&1
-  INIT_USER=$(INSTALLUSER)
-endif
-# if no group was enabled, don't set privileges or ownership
 INSTALLGROUP=@INSTALLGROUP@
-ifneq ($(INSTALLGROUP),)
-  G_USER=-g $(INSTALLGROUP)
-endif
 
 ifeq "$(MIX)" "mix"
 REBAR_VER:=6
