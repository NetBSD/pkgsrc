--- pnm/Makefile.orig	Mon Jan 31 17:47:32 1994
+++ pnm/Makefile	Wed Dec 31 04:14:11 1997
@@ -60,10 +60,11 @@
 		pnmcut pnmdepth pnmenlarge pnmfile pnmflip pnmhistmap \
 		pnminvert pnmnoraw pnmpad pnmpaste \
 		pnmtile pnmtoddif pnmtofits pnmtops pnmtorast \
-		pnmtosgi pnmtosir pnmtoxwd \
-		rasttopnm sgitopnm sirtopnm xwdtopnm zeisstopnm
+		pnmtorle pnmtosgi pnmtosir pnmtoxwd \
+		rasttopnm rletopnm sgitopnm sirtopnm xwdtopnm zeisstopnm
 MATHBINARIES =	pnmgamma pnmnlfilt pnmrotate pnmscale pnmshear
-BINARIES =      $(PORTBINARIES) $(MATHBINARIES) $(TIFFBINARIES)
+PNGBINARIES =	pngtopnm pnmtopng
+BINARIES =      $(PORTBINARIES) $(MATHBINARIES) $(PNGBINARIES) $(TIFFBINARIES)
 SCRIPTS =	anytopnm pnmindex pnmmargin pnmsmooth pstopnm
 
 PORTOBJECTS =	fitstopnm.o giftopnm.o \
@@ -74,7 +75,7 @@
 		pnmtosgi.o pnmtosir.o pnmtoxwd.o \
 		rasttopnm.o sgitopnm.o sirtopnm.o xwdtopnm.o zeisstopnm.o \
 		pnmgamma.o pnmnlfilt.o pnmrotate.o pnmscale.o pnmshear.o
-OBJECTS =	$(PORTOBJECTS) $(TIFFOBJECTS)
+OBJECTS =	$(PORTOBJECTS)
 
 MANUALS1 =	$(BINARIES) $(SCRIPTS)
 MANUALS3 =	libpnm
@@ -128,7 +129,13 @@
 
 
 # Rules for plain programs.
-$(PORTBINARIES) $(TIFFBINARIES):	pnm.h $(DEFPPM) $(DEFPGM) $(DEFPBM) $(LIBPNM) $(LIBPPM) $(LIBPGM) $(LIBPBM) $(TIFFLIB)
+$(PORTBINARIES):	pnm.h $(DEFPPM) $(DEFPGM) $(DEFPBM) $(LIBPNM) $(LIBPPM) $(LIBPGM) $(LIBPBM)
+	$(CC) $(ALLCFLAGS) $(LDFLAGS) -o $@ $@.c $(LIBPNM) $(LIBPPM) $(LIBPGM) $(LIBPBM)
+
+$(PNGBINARIES):	pnm.h $(DEFPPM) $(DEFPGM) $(DEFPBM) $(LIBPNM) $(LIBPPM) $(LIBPGM) $(LIBPBM)
+	$(CC) $(ALLCFLAGS) $(LDFLAGS) -o $@ $@.c $(LIBPNM) $(LIBPPM) $(LIBPGM) $(LIBPBM) -L${LOCALBASE}/lib -lpng -lz
+
+$(TIFFBINARIES):	pnm.h $(DEFPPM) $(DEFPGM) $(DEFPBM) $(LIBPNM) $(LIBPPM) $(LIBPGM) $(LIBPBM)
 	$(CC) $(ALLCFLAGS) $(LDFLAGS) -o $@ $@.c $(LIBPNM) $(LIBPPM) $(LIBPGM) $(LIBPBM) $(TIFFLIB)
 
 # Rule for math-dependent programs.
