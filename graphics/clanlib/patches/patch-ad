$NetBSD: patch-ad,v 1.4 2000/12/15 03:24:18 garbled Exp $
--- Sources/Core/System/Unix/init_linux.cpp.orig	Thu Dec 14 18:25:57 2000
+++ Sources/Core/System/Unix/init_linux.cpp	Thu Dec 14 18:21:25 2000
@@ -531,19 +531,20 @@
 {
 	struct timeval tv;
 	// select doesn't modify timeval if interrupted on non Linux systems
-#ifndef linux 
-	int then, now, elapsed;
-	then = CL_System::get_time();
-#else
+
+#if defined(linux) || defined(__NetBSD__)
 	tv.tv_sec = millis/ 1000;
 	tv.tv_usec = (millis%1000)*1000;
+#else
+	int then, now, elapsed;
+	then = CL_System::get_time();
 #endif
 
 	int was_error;	
 	do
 	{
 		errno = 0;
-#ifndef linux
+#if !defined(linux) && !defined(__NetBSD__)
 		now = CL_System::get_time();
 		elapsed = now - then;
 		then = now;
