$NetBSD: patch-ac,v 1.2 2000/12/15 03:13:05 garbled Exp $
--- Sources/API/Core/System/clanstring.h.orig	Tue May  9 14:09:32 
2000 +++ Sources/API/Core/System/clanstring.h	Thu Dec 14 18:08:39 2000
@@ -25,6 +25,8 @@
 
 #ifndef WIN32
 #include <cctype>
+#include <stdio.h>
+#include <sys/param.h>
 #endif
 
 #ifdef __BEOS__
@@ -101,9 +103,12 @@
 	{
 		char buf[25];
 		buf[0]=0;
+		int precision=4;
 
+#if (defined(BSD) && BSD >= 199306)
+		snprintf(buf, sizeof buf, "%.*f", precision, (double)_float_number);
+#else
 		int decimal, sign;
-		int precision=4;
 		char temp;
 
 		float float_number = _float_number;
@@ -134,6 +139,7 @@
 		strcat(buf, &float_buffer[decimal]);
 
 	copy_strings:
+#endif
 		int len=0;
 		if (prefix!=NULL) len=strlen(prefix);
 
