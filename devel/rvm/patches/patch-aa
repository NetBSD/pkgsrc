$NetBSD: patch-aa,v 1.1 2002/06/20 19:28:15 jlam Exp $

--- rvm/Makefile.in.orig	Tue Jun 12 12:24:35 2001
+++ rvm/Makefile.in
@@ -444,76 +444,52 @@
 
 
 rvm_init.lo: rvm_init.c rvm_init_lwp.lo
-rvm_init_lwp.lo: rvm_init.c
-	$(LTCOMPILE) $(LWPFLAGS) -c $< && \
-	mv rvm_init.lo rvm_init_lwp.lo && \
-	mv rvm_init.o rvm_init_lwp.o
+rvm_init_lwp.lo: rvm_init_lwp.c
+	$(LTCOMPILE) $(LWPFLAGS) -c $<
 
 rvm_map.lo: rvm_map.c rvm_map_lwp.lo
-rvm_map_lwp.lo: rvm_map.c
-	$(LTCOMPILE) $(LWPFLAGS) -c $< && \
-	mv rvm_map.lo rvm_map_lwp.lo && \
-	mv rvm_map.o rvm_map_lwp.o
+rvm_map_lwp.lo: rvm_map_lwp.c
+	$(LTCOMPILE) $(LWPFLAGS) -c $<
 
 rvm_unmap.lo: rvm_unmap.c rvm_unmap_lwp.lo
-rvm_unmap_lwp.lo: rvm_unmap.c
-	$(LTCOMPILE) $(LWPFLAGS) -c $< && \
-	mv rvm_unmap.lo rvm_unmap_lwp.lo && \
-	mv rvm_unmap.o rvm_unmap_lwp.o
+rvm_unmap_lwp.lo: rvm_unmap_lwp.c
+	$(LTCOMPILE) $(LWPFLAGS) -c $<
 
 rvm_trans.lo: rvm_trans.c rvm_trans_lwp.lo
-rvm_trans_lwp.lo: rvm_trans.c
-	$(LTCOMPILE) $(LWPFLAGS) -c $< && \
-	mv rvm_trans.lo rvm_trans_lwp.lo && \
-	mv rvm_trans.o rvm_trans_lwp.o
+rvm_trans_lwp.lo: rvm_trans_lwp.c
+	$(LTCOMPILE) $(LWPFLAGS) -c $<
 
 rvm_logstatus.lo: rvm_logstatus.c rvm_logstatus_lwp.lo
-rvm_logstatus_lwp.lo: rvm_logstatus.c
-	$(LTCOMPILE) $(LWPFLAGS) -c $< && \
-	mv rvm_logstatus.lo rvm_logstatus_lwp.lo && \
-	mv rvm_logstatus.o rvm_logstatus_lwp.o
+rvm_logstatus_lwp.lo: rvm_logstatus_lwp.c
+	$(LTCOMPILE) $(LWPFLAGS) -c $<
 
 rvm_logflush.lo: rvm_logflush.c rvm_logflush_lwp.lo
-rvm_logflush_lwp.lo: rvm_logflush.c
-	$(LTCOMPILE) $(LWPFLAGS) -c $< && \
-	mv rvm_logflush.lo rvm_logflush_lwp.lo && \
-	mv rvm_logflush.o rvm_logflush_lwp.o
+rvm_logflush_lwp.lo: rvm_logflush_lwp.c
+	$(LTCOMPILE) $(LWPFLAGS) -c $<
 
 rvm_logrecovr.lo: rvm_logrecovr.c rvm_logrecovr_lwp.lo
-rvm_logrecovr_lwp.lo: rvm_logrecovr.c
-	$(LTCOMPILE) $(LWPFLAGS) -c $< && \
-	mv rvm_logrecovr.lo rvm_logrecovr_lwp.lo && \
-	mv rvm_logrecovr.o rvm_logrecovr_lwp.o
+rvm_logrecovr_lwp.lo: rvm_logrecovr_lwp.c
+	$(LTCOMPILE) $(LWPFLAGS) -c $<
 
 rvm_utils.lo: rvm_utils.c rvm_utils_lwp.lo
-rvm_utils_lwp.lo: rvm_utils.c
-	$(LTCOMPILE) $(LWPFLAGS) -c $< && \
-	mv rvm_utils.lo rvm_utils_lwp.lo && \
-	mv rvm_utils.o rvm_utils_lwp.o
+rvm_utils_lwp.lo: rvm_utils_lwp.c
+	$(LTCOMPILE) $(LWPFLAGS) -c $<
 
 rvm_io.lo: rvm_io.c rvm_io_lwp.lo
-rvm_io_lwp.lo: rvm_io.c
-	$(LTCOMPILE) $(LWPFLAGS) -c $< && \
-	mv rvm_io.lo rvm_io_lwp.lo && \
-	mv rvm_io.o rvm_io_lwp.o
+rvm_io_lwp.lo: rvm_io_lwp.c
+	$(LTCOMPILE) $(LWPFLAGS) -c $<
 
 rvm_status.lo: rvm_status.c rvm_status_lwp.lo
-rvm_status_lwp.lo: rvm_status.c
-	$(LTCOMPILE) $(LWPFLAGS) -c $< && \
-	mv rvm_status.lo rvm_status_lwp.lo && \
-	mv rvm_status.o rvm_status_lwp.o
+rvm_status_lwp.lo: rvm_status_lwp.c
+	$(LTCOMPILE) $(LWPFLAGS) -c $<
 
 rvm_debug.lo: rvm_debug.c rvm_debug_lwp.lo
-rvm_debug_lwp.lo: rvm_debug.c
-	$(LTCOMPILE) $(LWPFLAGS) -c $< && \
-	mv rvm_debug.lo rvm_debug_lwp.lo && \
-	mv rvm_debug.o rvm_debug_lwp.o
+rvm_debug_lwp.lo: rvm_debug_lwp.c
+	$(LTCOMPILE) $(LWPFLAGS) -c $<
 
 rvm_printers.lo: rvm_printers.c rvm_printers_lwp.lo
-rvm_printers_lwp.lo: rvm_printers.c
-	$(LTCOMPILE) $(LWPFLAGS) -c $< && \
-	mv rvm_printers.lo rvm_printers_lwp.lo && \
-	mv rvm_printers.o rvm_printers_lwp.o
+rvm_printers_lwp.lo: rvm_printers_lwp.c
+	$(LTCOMPILE) $(LWPFLAGS) -c $<
 
 # Tell versions [3.59,3.63) of GNU make to not export all variables.
 # Otherwise a system limit (for SysV at least) may be exceeded.
