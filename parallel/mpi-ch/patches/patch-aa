$NetBSD: patch-aa,v 1.7 2008/05/29 20:25:53 tnn Exp $

Fix scripts installation.
Install configuration files into example directory.

--- src/env/Makefile.in.orig	2008-04-05 02:03:18.000000000 +0400
+++ src/env/Makefile.in	2008-04-15 23:58:49.000000000 +0400
@@ -17,6 +17,7 @@
 prefix          = @prefix@
 exec_prefix     = @exec_prefix@
 bindir          = @bindir@
+datadir		= @datadir@
 sysconfdir      = @sysconfdir@
 DEFS            = @DEFS@ -I. -I${srcdir}
 CPPFLAGS        = @CPPFLAGS@
@@ -38,6 +39,8 @@
 INCLUDES = -I../include
 doc_sources = mpicc.txt mpif77.txt mpicxx.txt mpif90.txt mpiexec.txt
 
+exampledir	= ${datadir}/examples
+
 .SUFFIXES:
 .SUFFIXES: .o .lo .c .man .html .latex .txt 
 .c.o:
@@ -114,17 +117,17 @@
 	if [ ! -d ${DESTDIR}${exec_prefix} ] ; then $(MKDIR_P) ${DESTDIR}${exec_prefix} ; fi
 	if [ ! -d ${DESTDIR}${prefix} ] ; then $(MKDIR_P) ${DESTDIR}${prefix} ; fi
 	if [ ! -d ${DESTDIR}${bindir} ] ; then $(MKDIR_P) ${DESTDIR}${bindir} ; fi
-	$(INSTALL_PROGRAM) $(INSTALL_STRIP_FLAG) mpicc ${DESTDIR}${bindir}/mpicc
+	$(BSD_INSTALL_SCRIPT) mpicc ${DESTDIR}${bindir}/mpicc
 	$(INSTALL_PROGRAM) $(INSTALL_STRIP_FLAG) mpich2version ${DESTDIR}${bindir}/mpich2version
-	$(INSTALL_PROGRAM) $(INSTALL_STRIP_FLAG) parkill ${DESTDIR}${bindir}/parkill
-	if [ ! -d ${DESTDIR}${sysconfdir} ] ; then $(MKDIR_P) ${DESTDIR}${sysconfdir} ; fi
-	$(INSTALL_DATA) mpicc.conf ${DESTDIR}${sysconfdir}/mpicc.conf
-	if [ -s mpicxx ] ; then $(INSTALL_PROGRAM) $(INSTALL_STRIP_FLAG) mpicxx ${DESTDIR}${bindir}/mpicxx ; fi
-	if [ -s mpif77 ] ; then $(INSTALL_PROGRAM) $(INSTALL_STRIP_FLAG) mpif77 ${DESTDIR}${bindir}/mpif77 ; fi
-	if [ -s mpif90 ] ; then $(INSTALL_PROGRAM) $(INSTALL_STRIP_FLAG) mpif90 ${DESTDIR}${bindir}/mpif90 ; fi
-	if [ -s mpicxx.conf ] ; then $(INSTALL_DATA) mpicxx.conf ${DESTDIR}${sysconfdir}/mpicxx.conf ; fi
-	if [ -s mpif77.conf ] ; then $(INSTALL_DATA) mpif77.conf ${DESTDIR}${sysconfdir}/mpif77.conf ; fi
-	if [ -s mpif90.conf ] ; then $(INSTALL_DATA) mpif90.conf ${DESTDIR}${sysconfdir}/mpif90.conf ; fi
+	$(BSD_INSTALL_SCRIPT) parkill ${DESTDIR}${bindir}/parkill
+	if [ ! -d ${DESTDIR}${exampledir} ] ; then $(MKDIR_P) ${DESTDIR}${exampledir} ; fi
+	$(INSTALL_DATA) mpicc.conf ${DESTDIR}${exampledir}/mpicc.conf
+	if [ -s mpicxx ] ; then $(BSD_INSTALL_SCRIPT) mpicxx ${DESTDIR}${bindir}/mpicxx ; fi
+	if [ -s mpif77 ] ; then $(BSD_INSTALL_SCRIPT) mpif77 ${DESTDIR}${bindir}/mpif77 ; fi
+	if [ -s mpif90 ] ; then $(BSD_INSTALL_SCRIPT) mpif90 ${DESTDIR}${bindir}/mpif90 ; fi
+	if [ -s mpicxx.conf ] ; then $(INSTALL_DATA) mpicxx.conf ${DESTDIR}${exampledir}/mpicxx.conf ; fi
+	if [ -s mpif77.conf ] ; then $(INSTALL_DATA) mpif77.conf ${DESTDIR}${exampledir}/mpif77.conf ; fi
+	if [ -s mpif90.conf ] ; then $(INSTALL_DATA) mpif90.conf ${DESTDIR}${exampledir}/mpif90.conf ; fi
 
 install-strip:
 	$(MAKE) INSTALL_STRIP_FLAG=-s install
