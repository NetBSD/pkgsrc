# $NetBSD: DEINSTALL,v 1.1 2020/05/10 03:56:44 markd Exp $

TEXMFSYSVAR="@VARBASE@/lib/texmf"

case "${STAGE}" in
DEINSTALL)
	# Remove font map files generated by updmap-sys.  The list of
	# files is taken from the updmap man page and matches the
	# "output files" for updmap.
	${RM} -f ${TEXMFSYSVAR}/fonts/map/dvipdfmx/updmap/kanjix.map
	${RM} -f ${TEXMFSYSVAR}/fonts/map/dvips/updmap/builtin35.map
	${RM} -f ${TEXMFSYSVAR}/fonts/map/dvips/updmap/download35.map
	${RM} -f ${TEXMFSYSVAR}/fonts/map/dvips/updmap/ps2pk.map
	${RM} -f ${TEXMFSYSVAR}/fonts/map/dvips/updmap/psfonts.map
	${RM} -f ${TEXMFSYSVAR}/fonts/map/dvips/updmap/psfonts_pk.map
	${RM} -f ${TEXMFSYSVAR}/fonts/map/dvips/updmap/psfonts_t1.map
	${RM} -f ${TEXMFSYSVAR}/fonts/map/pdftex/updmap/pdftex.map
	${RM} -f ${TEXMFSYSVAR}/fonts/map/pdftex/updmap/pdftex_dl14.map
	${RM} -f ${TEXMFSYSVAR}/fonts/map/pdftex/updmap/pdftex_ndl14.map
	${RM} -f ${TEXMFSYSVAR}/web2c/updmap.log

	# Remove stray directories.
	for dir in \
		${TEXMFSYSVAR}/web2c \
		${TEXMFSYSVAR}/fonts/map/dvipdfmx/updmap \
		${TEXMFSYSVAR}/fonts/map/dvips/updmap \
		${TEXMFSYSVAR}/fonts/map/pdftex/updmap \
		${TEXMFSYSVAR}/fonts/map/pxdvi/updmap
	do
		@RMDIR@ -p "$dir" 2>/dev/null || @TRUE@
	done
	;;
esac
