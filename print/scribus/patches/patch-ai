$NetBSD: patch-ai,v 1.3 2010/02/12 08:35:28 adam Exp $

--- CMakeLists.txt.orig	2010-01-27 22:07:14.000000000 +0000
+++ CMakeLists.txt
@@ -116,7 +116,7 @@ IF (WANT_VERSIONING AND NOT CACHED_VERSI
 ENDIF (WANT_VERSIONING AND NOT CACHED_VERSIONING)
 
 #MAN
-SET(MANDIR "share/man/")
+SET(MANDIR "man/")
 SET(SHAREDIR "share/${MAIN_DIR_NAME}${TAG_VERSION}/")
 ADD_DEFINITIONS("-DSHAREDIR=\\\"${CMAKE_INSTALL_PREFIX}/${SHAREDIR}\\\"")
 #SHARE
@@ -144,30 +144,7 @@ ADD_DEFINITIONS("-DDESKTOPDIR=\\\"${CMAK
 
 #LIB LOCATION - lib or lib64 normally
 #LIB
-IF(WANT_LIB64)
-  IF(NOT ARCH64BIT)
-    MESSAGE(STATUS "WARNING: BUILDING 64 Bit build on non 64 bit architecture")
-  ENDIF(NOT ARCH64BIT)
-  SET(LIB_SUFFIX "64" CACHE TYPE STRING)
-ENDIF(WANT_LIB64)
-#OVERRIDE WANT_LIB64 with WANT_LIB32 if both exist
-IF(WANT_LIB32)
-  IF(ARCH64BIT)
-    MESSAGE(STATUS "WARNING: FORCING 32 Bit build on 64 bit architecture")
-  ENDIF(ARCH64BIT)
-  SET(LIB_SUFFIX "" CACHE TYPE STRING)
-  SET(WANT_LIB64 "")
-ENDIF(WANT_LIB32)
-#Auto build 64 bit if user doesnt force 32 bit and we detect 64 bit
-IF(ARCH64BIT AND NOT LIB_SUFFIX)
-  IF(NOT WANT_LIB32)
-    IF(NOT WANT_LIB64)
-      MESSAGE(STATUS "Autodetected 64 bit architecture, building for 64 Bit")
-      SET(LIB_SUFFIX "64" CACHE TYPE STRING)
-    ENDIF(NOT WANT_LIB64)
-  ENDIF(NOT WANT_LIB32)
-ENDIF(ARCH64BIT AND NOT LIB_SUFFIX)
-
+SET(LIB_SUFFIX "" CACHE TYPE STRING)
 
 SET(LIB_DIR_NAME "lib${LIB_SUFFIX}")
 SET(LIBDIR "${LIB_DIR_NAME}/${MAIN_DIR_NAME}${TAG_VERSION}/")
@@ -497,8 +474,8 @@ DESTINATION ${MIMEDIR}
 )
 #KDE workaround until it starts supporting freedesktop spec
 INSTALL(FILES
-  vnd.scribus.desktop
-  DESTINATION ${MIMELNKDIR}
+  vnd.scribus.desktop
+  DESTINATION ${DESKTOPDIR}
 )
 
 
