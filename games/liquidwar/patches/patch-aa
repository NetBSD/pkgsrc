$NetBSD: patch-aa,v 1.1.1.1 2005/06/04 11:18:12 wiz Exp $

--- Makefile.in.orig	2004-02-11 21:43:58.000000000 +0100
+++ Makefile.in
@@ -7,7 +7,7 @@ mandir =          @mandir@
 infodir =         @infodir@
 
 BINDIR =          $(bindir)
-GAMEDIR =         $(exec_prefix)/games
+GAMEDIR =         $(exec_prefix)/bin
 DATADIR =         $(datadir)/games/liquidwar
 PIXDIR =          $(datadir)/pixmaps
 DOCDIR =          $(datadir)/doc/liquidwar
@@ -15,8 +15,8 @@ DESKTOPDIR =           $(datadir)/applic
 # We don't use the autoconf default mandir=$(prefix)/man man
 # directory since the FHS (File Hierarchy Standard recommends
 # to place man pages in $(datadir)/man (ie /usr/share/man).
-# MANDIR =          $(mandir)/man6
-MANDIR =          $(datadir)/man/man6
+MANDIR =          $(mandir)/man6
+#MANDIR =          $(datadir)/man/man6
 # We don't use the autoconf default infodir=$(prefix)/info info
 # directory since the FHS (File Hierarchy Standard recommends
 # to place info pages in $(datadir)/info (ie /usr/share/info).
@@ -105,9 +105,9 @@ install_nolink: install_bin install_data
 install_bin: src/liquidwar src/liquidwar-server src/liquidwar-mapgen
 	@echo "Installing liquidwar binaries in $(GAMEDIR)."
 	@install -d $(DESTDIR)$(GAMEDIR)
-	@install -s src/liquidwar $(DESTDIR)$(GAMEDIR)
-	@install -s src/liquidwar-server $(DESTDIR)$(GAMEDIR)
-	@install -s src/liquidwar-mapgen $(DESTDIR)$(GAMEDIR)
+	@install -c -s src/liquidwar $(DESTDIR)$(GAMEDIR)
+	@install -c -s src/liquidwar-server $(DESTDIR)$(GAMEDIR)
+	@install -c -s src/liquidwar-mapgen $(DESTDIR)$(GAMEDIR)
 
 install_link:
 	@echo "Installing link in $(BINDIR)."
@@ -122,56 +122,56 @@ install_link:
 install_data: data/liquidwar.dat
 	@echo "Installing liquidwar datafile in $(DATADIR)."
 	@install -d $(DESTDIR)$(DATADIR)
-	@install -m 0644 data/liquidwar.dat $(DESTDIR)$(DATADIR)
+	@install -c -m 0644 data/liquidwar.dat $(DESTDIR)$(DATADIR)
 
 install_custom_map: 
 	@echo "Installing liquidwar custom maps in $(DATADIR)/map."
 	@install -d $(DESTDIR)$(DATADIR)
 	@install -d $(DESTDIR)$(DATADIR)/map
-	@install -m 0644 custom/map/*.* $(DESTDIR)$(DATADIR)/map
+	@install -c -m 0644 custom/map/*.* $(DESTDIR)$(DATADIR)/map
 
 install_custom_texture: 
 	@echo "Installing liquidwar custom textures in $(DATADIR)/texture."
 	@install -d $(DESTDIR)$(DATADIR)
 	@install -d $(DESTDIR)$(DATADIR)/texture
-	@install -m 0644 custom/texture/*.* $(DESTDIR)$(DATADIR)/texture
+	@install -c -m 0644 custom/texture/*.* $(DESTDIR)$(DATADIR)/texture
 
 install_custom_music: 
 	@echo "Installing liquidwar custom musics in $(DATADIR)/music."
 	@install -d $(DESTDIR)$(DATADIR)
 	@install -d $(DESTDIR)$(DATADIR)/music
-	@install -m 0644 custom/music/*.* $(DESTDIR)$(DATADIR)/music
+	@install -c -m 0644 custom/music/*.* $(DESTDIR)$(DATADIR)/music
 
 install_doc:
-	@if [ -f $(MAKE_DOC_DIR)/txt/rules.txt ]; then echo "Installing liquidwar plain text doc in $(DOCDIR)/txt."; install -d $(DESTDIR)$(DOCDIR)/txt; install -m 0644 $(MAKE_DOC_DIR)/txt/*.txt $(DESTDIR)$(DOCDIR)/txt; fi
-	@if [ -f $(MAKE_DOC_DIR)/html/rules.html ]; then echo "Installing liquidwar HTML doc in $(DOCDIR)/html."; install -d $(DESTDIR)$(DOCDIR)/html; install -m 0644 $(MAKE_DOC_DIR)/html/*.html $(DESTDIR)$(DOCDIR)/html; fi
-	@if [ -f $(MAKE_DOC_DIR)/man/liquidwar.6.gz ]; then echo "Installing liquidwar man page in $(MANDIR)."; install -d $(DESTDIR)$(MANDIR); install -m 0644 $(MAKE_DOC_DIR)/man/liquidwar.6.gz $(DESTDIR)$(MANDIR); ln -s -f liquidwar.6.gz $(DESTDIR)$(MANDIR)/liquidwar-server.6.gz; ln -s -f liquidwar.6.gz $(DESTDIR)$(MANDIR)/liquidwar-mapgen.6.gz; fi
-	@if [ -f $(MAKE_DOC_DIR)/info/liquidwar.info.gz ]; then echo "Installing info page $(INFODIR)/liquidwar.info.gz."; install -d $(DESTDIR)$(INFODIR); install -m 644 $(MAKE_DOC_DIR)/info/liquidwar.info* $(DESTDIR)$(INFODIR); if which install-info; then if test -d $(DESTDIR)$(INFODIRDIR); then if test -f $(DESTDIR)$(INFODIRDIR)/dir; then echo "Installing liquidwar info entry."; install-info --info-dir=$(DESTDIR)$(INFODIRDIR) $(MAKE_DOC_DIR)/info/liquidwar.info.gz; fi; fi; fi; fi
-	@if [ -f $(MAKE_DOC_DIR)/ps/liquidwar.ps ]; then echo "Installing liquidwar PostScript doc in $(DOCDIR)/ps."; install -d $(DESTDIR)$(DOCDIR)/ps; install -m 0644 $(MAKE_DOC_DIR)/ps/*.ps $(DESTDIR)$(DOCDIR)/ps; fi
-	@if [ -f $(MAKE_DOC_DIR)/pdf/liquidwar.pdf ]; then echo "Installing liquidwar PDF doc in $(DOCDIR)/pdf."; install -d $(DESTDIR)$(DOCDIR)/pdf; install -m 0644 $(MAKE_DOC_DIR)/pdf/*.pdf $(DESTDIR)$(DOCDIR)/pdf; fi
+	@if [ -f $(MAKE_DOC_DIR)/txt/rules.txt ]; then echo "Installing liquidwar plain text doc in $(DOCDIR)/txt."; install -d $(DESTDIR)$(DOCDIR)/txt; install -c -m 0644 $(MAKE_DOC_DIR)/txt/*.txt $(DESTDIR)$(DOCDIR)/txt; fi
+	@if [ -f $(MAKE_DOC_DIR)/html/rules.html ]; then echo "Installing liquidwar HTML doc in $(DOCDIR)/html."; install -d $(DESTDIR)$(DOCDIR)/html; install -c -m 0644 $(MAKE_DOC_DIR)/html/*.html $(DESTDIR)$(DOCDIR)/html; fi
+	@if [ -f $(MAKE_DOC_DIR)/man/liquidwar.6.gz ]; then echo "Installing liquidwar man page in $(MANDIR)."; install -d $(DESTDIR)$(MANDIR); install -c -m 0644 $(MAKE_DOC_DIR)/man/liquidwar.6.gz $(DESTDIR)$(MANDIR); ln -s -f liquidwar.6.gz $(DESTDIR)$(MANDIR)/liquidwar-server.6.gz; ln -s -f liquidwar.6.gz $(DESTDIR)$(MANDIR)/liquidwar-mapgen.6.gz; fi
+	@if [ -f $(MAKE_DOC_DIR)/info/liquidwar.info.gz ]; then echo "Installing info page $(INFODIR)/liquidwar.info.gz."; install -d $(DESTDIR)$(INFODIR); install -c -m 644 $(MAKE_DOC_DIR)/info/liquidwar.info* $(DESTDIR)$(INFODIR); if which install-info; then if test -d $(DESTDIR)$(INFODIRDIR); then if test -f $(DESTDIR)$(INFODIRDIR)/dir; then echo "Installing liquidwar info entry."; install-info --info-dir=$(DESTDIR)$(INFODIRDIR) $(MAKE_DOC_DIR)/info/liquidwar.info.gz; fi; fi; fi; fi
+	@if [ -f $(MAKE_DOC_DIR)/ps/liquidwar.ps ]; then echo "Installing liquidwar PostScript doc in $(DOCDIR)/ps."; install -d $(DESTDIR)$(DOCDIR)/ps; install -c -m 0644 $(MAKE_DOC_DIR)/ps/*.ps $(DESTDIR)$(DOCDIR)/ps; fi
+	@if [ -f $(MAKE_DOC_DIR)/pdf/liquidwar.pdf ]; then echo "Installing liquidwar PDF doc in $(DOCDIR)/pdf."; install -d $(DESTDIR)$(DOCDIR)/pdf; install -c -m 0644 $(MAKE_DOC_DIR)/pdf/*.pdf $(DESTDIR)$(DOCDIR)/pdf; fi
 
 install_icon:
 	@echo "Installing liquidwar icon in $(PIXDIR)."
 	@install -d $(DESTDIR)$(PIXDIR)
-	@install -m 0644 misc/liquidwar.xpm $(DESTDIR)$(PIXDIR)
+	@install -c -m 0644 misc/liquidwar.xpm $(DESTDIR)$(PIXDIR)
 
 install_desktop:
 	@echo "Installing desktop file in $(DESKTOPDIR)."
 	@install -d $(DESTDIR)$(DESKTOPDIR)
-	@install -m 0644 misc/liquidwar.desktop $(DESTDIR)$(DESKTOPDIR)
+	@install -c -m 0644 misc/liquidwar.desktop $(DESTDIR)$(DESKTOPDIR)
 
 install_gpl:
 	@echo "Installing GPL in $(DOCDIR)."
 	@install -d $(DESTDIR)$(DOCDIR)
-	@install -m 0644 COPYING $(DESTDIR)$(DOCDIR)
+	@install -c -m 0644 COPYING $(DESTDIR)$(DOCDIR)
 
 install_readme:
 	@echo "Installing README in $(DOCDIR)."
 	@install -d $(DESTDIR)$(DOCDIR)
-	@install -m 0644 README $(DESTDIR)$(DOCDIR)
-	@install -m 0644 README.fr $(DESTDIR)$(DOCDIR)
-	@install -m 0644 README.de $(DESTDIR)$(DOCDIR)
-	@install -m 0644 README.dk $(DESTDIR)$(DOCDIR)
+	@install -c -m 0644 README $(DESTDIR)$(DOCDIR)
+	@install -c -m 0644 README.fr $(DESTDIR)$(DOCDIR)
+	@install -c -m 0644 README.de $(DESTDIR)$(DOCDIR)
+	@install -c -m 0644 README.dk $(DESTDIR)$(DOCDIR)
 
 uninstall:
 	@echo "Removing binary $(GAMEDIR)/liquidwar."
