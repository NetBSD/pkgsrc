$NetBSD: patch-ae,v 1.2 2002/07/03 11:57:14 lukem Exp $

--- clients/upsstats.c.orig	Thu Mar 21 17:01:16 2002
+++ clients/upsstats.c
@@ -74,6 +74,7 @@ int main() 
 	double	tempf;
 	char	model[64], status[64], battpct[64], utility[64], loadpct[64],
 	        upstemp[64], acfreq[64], *stat, *ptr;
+	char	runtime[64];
 	int	i;
 
 	extractcgiargs();
@@ -162,6 +163,7 @@ int main() 
 	printf("</TD>\n");
 	printf("</TR>\n");
 
+#if 0
 	printf("<TR><TD BGCOLOR=\"#FFFFFF\"><PRE>\n");
 
 	/* TODO: handle self tests */
@@ -169,6 +171,7 @@ int main() 
 /*	printf("Last UPS Self Test: Not Available\n"); */
 /*	printf("    Last Test Date: Not Available\n"); */
 	printf("</PRE></TD></TR>\n");
+#endif
 
 	printf("<TR><TD BGCOLOR=\"#FFFFFF\"><PRE>\n");
 
@@ -186,6 +189,9 @@ int main() 
 
 	if (getupsvar(monhost, "acfreq", acfreq, sizeof(acfreq)) > 0)
 		printf(" Output Freq: %s Hz\n", acfreq);
+
+	if (getupsvar(monhost, "runtime", runtime, sizeof(runtime)) > 0)
+		printf("     Runtime: %s\n", runtime);
 
 	printf("</PRE><P>\n");
 	printf("<CENTER>Network UPS Tools upsstats %s</CENTER>\n", UPS_VERSION);
