$NetBSD: patch-dm,v 1.1 2001/12/20 09:20:07 tron Exp $

--- lib/libxview/notify/ndet_loop.c.orig	Tue Jun 29 07:18:19 1993
+++ lib/libxview/notify/ndet_loop.c	Thu Dec 20 10:09:16 2001
@@ -14,13 +14,18 @@
  * Ndet_loop.c - Notification loop.
  */
 
+#include <sys/param.h>
 #include <xview_private/i18n_impl.h>
 #include <xview_private/ntfy.h>
 #include <xview_private/ndet.h>
 #include <xview_private/nint.h>
 #include <xview_private/ndis.h>	/* For ndis_dispatch */
 #ifndef SVR4
+#if !defined(__FreeBSD__) && !defined(__NetBSD__)
 #include <syscall.h>
+#else
+#include <sys/syscall.h>
+#endif
 #else SVR4
 #include <sys/syscall.h>
 #include <sys/poll.h>
@@ -224,7 +229,8 @@
 	     * will return with an EINTR when a signal arrives while IN
 	     * select, not ON THE WAY into select).
 	     */
-#ifndef SVR4
+
+#if !defined(SVR4) && !(defined(BSD) && (BSD >= 199103))
 	    nfds = syscall(SYS_select,
 			   FD_SETSIZE, &ibits, &obits, &ebits,
 		 (sigisempty(&ndet_sigs_received)) ? timer : &ndet_polling_tv);
