# $NetBSD: Makefile,v 1.62 2024/05/29 16:35:08 adam Exp $

PKGREVISION=	4
.include "../../meta-pkgs/mate/Makefile.common"

DISTNAME=	mate-panel-${VERSION:R}.4
CATEGORIES=	x11

COMMENT=	MATE panel application

USE_TOOLS+=	perl
TOOL_DEPENDS+=	libxml2-[0-9]*:../../textproc/libxml2 # for xmllint

PKGCONFIG_OVERRIDE+=	libmate-panel-applet/libmatepanelapplet-4.0.pc.in

CONFIGURE_ARGS+=	--with-in-process-applets=all
CONFIGURE_ARGS+=	--enable-introspection

.include "../../devel/glib2/schemas.mk"
.include "../../sysutils/desktop-file-utils/desktopdb.mk"
.include "../../misc/libmateweather/buildlink3.mk"
.include "../../x11/mate-desktop/buildlink3.mk"
.include "../../x11/mate-menus/buildlink3.mk"
.include "../../audio/libcanberra/buildlink3.mk"
.include "../../devel/dconf/buildlink3.mk"
.include "../../devel/glib2/buildlink3.mk"
.include "../../devel/gobject-introspection/buildlink3.mk"
# The PLIST generated by this package varies, depending on the version
# of libwnck3 it's built against. Newer versions of libwnck3 offer
# window previewing functionality that mate-panel conditionally detects
# and uses, if available, which installs an extra config file.
BUILDLINK_API_DEPENDS.libwnck3+= libwnck3>=3.32.0
.include "../../devel/libwnck3/buildlink3.mk"
.include "../../graphics/librsvg/buildlink3.mk"
.include "../../graphics/hicolor-icon-theme/buildlink3.mk"
.include "../../sysutils/dbus-glib/buildlink3.mk"
.include "../../textproc/libxml2/buildlink3.mk"
.include "../../mk/bsd.pkg.mk"
