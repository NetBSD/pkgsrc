$NetBSD: patch-ac,v 1.4 2003/03/11 13:10:18 markd Exp $

--- kate/app/Makefile.in.orig	Fri Jan 17 09:03:04 2003
+++ kate/app/Makefile.in
@@ -284,7 +284,7 @@ qt_includes = @qt_includes@
 qt_libraries = @qt_libraries@
 x_includes = @x_includes@
 x_libraries = @x_libraries@
-lib_LTLIBRARIES = libkateinterfaces.la kate.la kwrite.la
+lib_LTLIBRARIES = libkateinterfaces.la libkate_main.la kate.la libkwrite_main.la kwrite.la
 bin_PROGRAMS = kate kwrite
 
 #>- libkateinterfaces_la_SOURCES = kateapp.cpp kateconfigdialog.cpp kateconfigplugindialogpage.cpp \
@@ -304,20 +304,28 @@ libkateinterfaces_la_SOURCES=kateapp.cpp
 
 libkateinterfaces_la_LIBADD = ../interfaces/libkateinterfacesprivate.la -lkscript ../lib/libkmultitabbar.la
 libkateinterfaces_la_LDFLAGS = $(all_libraries) $(KDE_RPATH) -module -avoid-version
-kate_la_SOURCES = katemain.cpp
-kate_la_LIBADD = libkateinterfaces.la
+libkate_main_la_SOURCES = katemain.cpp
+libkate_main_la_LIBADD = libkateinterfaces.la
+libkate_main_la_LDFLAGS = $(all_libraries) $(KDE_RPATH)
+
+kate_la_SOURCES = dummy_main.cpp
+kate_la_LIBADD = libkate_main.la
 kate_la_LDFLAGS = $(all_libraries) $(KDE_RPATH) -module -avoid-version 
 
-kwrite_la_SOURCES = kwritemain.cpp katefiledialog.cpp kwritedialogs.cpp
-kwrite_la_LIBADD = -lktexteditor
+libkwrite_main_la_SOURCES = kwritemain.cpp katefiledialog.cpp kwritedialogs.cpp
+libkwrite_main_la_LIBADD = -lktexteditor
+libkwrite_main_la_LDFLAGS = $(all_libraries) $(KDE_RPATH)
+
+kwrite_la_SOURCES = dummy_main.cpp
+kwrite_la_LIBADD = libkwrite_main.la
 kwrite_la_LDFLAGS = $(all_libraries) $(KDE_RPATH) -module -avoid-version
 
-kate_SOURCES = dummy_kate.cpp
-kate_LDADD = kate.la
+kate_SOURCES = dummy_main.cpp
+kate_LDADD = libkate_main.la
 kate_LDFLAGS = $(KDE_RPATH) $(all_libraries)
 
-kwrite_SOURCES = dummy_kwrite.cpp
-kwrite_LDADD = kwrite.la
+kwrite_SOURCES = dummy_main.cpp
+kwrite_LDADD = libkwrite_main.la
 kwrite_LDFLAGS = $(KDE_RPATH) $(all_libraries)
 
 #>- METASOURCES = AUTO  
@@ -329,19 +337,21 @@ CONFIG_HEADER = $(top_builddir)/config.h
 CONFIG_CLEAN_FILES =
 LTLIBRARIES = $(lib_LTLIBRARIES)
 
-kate_la_DEPENDENCIES = libkateinterfaces.la
-am_kate_la_OBJECTS = katemain.lo
+kate_la_DEPENDENCIES = libkate_main.la
+am_kate_la_OBJECTS = dummy_main.lo
 #>- kate_la_OBJECTS = $(am_kate_la_OBJECTS)
 #>+ 1
-kate_la_OBJECTS = katemain.lo
-kwrite_la_DEPENDENCIES =
-am_kwrite_la_OBJECTS = kwritemain.lo katefiledialog.lo kwritedialogs.lo
+kate_la_OBJECTS = dummy_main.lo
+kwrite_la_DEPENDENCIES = libkwrite_main.la
+am_kwrite_la_OBJECTS = dummy_main.lo
 #>- kwrite_la_OBJECTS = $(am_kwrite_la_OBJECTS)
-#>+ 4
-kwrite_la_final_OBJECTS = kwrite_la.all_cpp.lo 
-kwrite_la_nofinal_OBJECTS = kwritemain.lo katefiledialog.lo kwritedialogs.lo
-@KDE_USE_FINAL_FALSE@kwrite_la_OBJECTS = $(kwrite_la_nofinal_OBJECTS)
-@KDE_USE_FINAL_TRUE@kwrite_la_OBJECTS = $(kwrite_la_final_OBJECTS)
+#>+ 1
+kwrite_la_OBJECTS = dummy_main.lo
+libkate_main_la_DEPENDENCIES = libkateinterfaces.la
+am_libkate_main_la_OBJECTS = katemain.lo
+#>- libkate_main_la_OBJECTS = $(am_libkate_main_la_OBJECTS)
+#>+ 1
+libkate_main_la_OBJECTS = katemain.lo
 libkateinterfaces_la_DEPENDENCIES = \
 	../interfaces/libkateinterfacesprivate.la \
 	../lib/libkmultitabbar.la
@@ -364,19 +374,29 @@ libkateinterfaces_la_nofinal_OBJECTS = k
 	katedockcontainer.lo kateIface_skel.lo
 @KDE_USE_FINAL_FALSE@libkateinterfaces_la_OBJECTS = $(libkateinterfaces_la_nofinal_OBJECTS)
 @KDE_USE_FINAL_TRUE@libkateinterfaces_la_OBJECTS = $(libkateinterfaces_la_final_OBJECTS)
+libkwrite_main_la_DEPENDENCIES =
+am_libkwrite_main_la_OBJECTS = kwritemain.lo katefiledialog.lo \
+	kwritedialogs.lo
+#>- libkwrite_main_la_OBJECTS = $(am_libkwrite_main_la_OBJECTS)
+#>+ 5
+libkwrite_main_la_final_OBJECTS = libkwrite_main_la.all_cpp.lo 
+libkwrite_main_la_nofinal_OBJECTS = kwritemain.lo katefiledialog.lo \
+	kwritedialogs.lo
+@KDE_USE_FINAL_FALSE@libkwrite_main_la_OBJECTS = $(libkwrite_main_la_nofinal_OBJECTS)
+@KDE_USE_FINAL_TRUE@libkwrite_main_la_OBJECTS = $(libkwrite_main_la_final_OBJECTS)
 bin_PROGRAMS = kate$(EXEEXT) kwrite$(EXEEXT)
 PROGRAMS = $(bin_PROGRAMS)
 
-am_kate_OBJECTS = dummy_kate.$(OBJEXT)
+am_kate_OBJECTS = dummy_main.$(OBJEXT)
 #>- kate_OBJECTS = $(am_kate_OBJECTS)
 #>+ 1
-kate_OBJECTS = dummy_kate.$(OBJEXT)
-kate_DEPENDENCIES = kate.la
-am_kwrite_OBJECTS = dummy_kwrite.$(OBJEXT)
+kate_OBJECTS = dummy_main.$(OBJEXT)
+kate_DEPENDENCIES = libkate_main.la
+am_kwrite_OBJECTS = dummy_main.$(OBJEXT)
 #>- kwrite_OBJECTS = $(am_kwrite_OBJECTS)
 #>+ 1
-kwrite_OBJECTS = dummy_kwrite.$(OBJEXT)
-kwrite_DEPENDENCIES = kwrite.la
+kwrite_OBJECTS = dummy_main.$(OBJEXT)
+kwrite_DEPENDENCIES = libkwrite_main.la
 
 DEFS = @DEFS@
 DEFAULT_INCLUDES =  -I. -I$(srcdir) -I$(top_builddir)
@@ -385,8 +405,8 @@ LDFLAGS = @LDFLAGS@
 LIBS = @LIBS@
 depcomp = $(SHELL) $(top_srcdir)/admin/depcomp
 am__depfiles_maybe = depfiles
-#>- @AMDEP_TRUE@DEP_FILES = ./$(DEPDIR)/dummy_kate.Po \
-#>- @AMDEP_TRUE@	./$(DEPDIR)/dummy_kwrite.Po \
+#>- @AMDEP_TRUE@DEP_FILES = ./$(DEPDIR)/dummy_main.Plo \
+#>- @AMDEP_TRUE@	./$(DEPDIR)/dummy_main.Po \
 #>- @AMDEP_TRUE@	./$(DEPDIR)/kactionselector.Plo \
 #>- @AMDEP_TRUE@	./$(DEPDIR)/kateapp.Plo \
 #>- @AMDEP_TRUE@	./$(DEPDIR)/kateconfigdialog.Plo \
@@ -409,8 +429,8 @@ am__depfiles_maybe = depfiles
 #>- @AMDEP_TRUE@	./$(DEPDIR)/kwritedialogs.Plo \
 #>- @AMDEP_TRUE@	./$(DEPDIR)/kwritemain.Plo
 #>+ 47
-@AMDEP_TRUE@@KDE_USE_FINAL_TRUE@DEP_FILES =  $(DEPDIR)/kateIface_skel.P  $(DEPDIR)/kwrite_la.all_cpp.P $(DEPDIR)/libkateinterfaces_la.all_cpp.P  ./$(DEPDIR)/dummy_kate.Po \
-@AMDEP_TRUE@@KDE_USE_FINAL_TRUE@	@AMDEP_TRUE@	./$(DEPDIR)/dummy_kwrite.Po \
+@AMDEP_TRUE@@KDE_USE_FINAL_TRUE@DEP_FILES =  $(DEPDIR)/kateIface_skel.P  $(DEPDIR)/libkateinterfaces_la.all_cpp.P $(DEPDIR)/libkwrite_main_la.all_cpp.P  ./$(DEPDIR)/dummy_main.Plo \
+@AMDEP_TRUE@@KDE_USE_FINAL_TRUE@	@AMDEP_TRUE@	./$(DEPDIR)/dummy_main.Po \
 @AMDEP_TRUE@@KDE_USE_FINAL_TRUE@	@AMDEP_TRUE@	./$(DEPDIR)/kactionselector.Plo \
 @AMDEP_TRUE@@KDE_USE_FINAL_TRUE@	@AMDEP_TRUE@	./$(DEPDIR)/kateapp.Plo \
 @AMDEP_TRUE@@KDE_USE_FINAL_TRUE@	@AMDEP_TRUE@	./$(DEPDIR)/kateconfigdialog.Plo \
@@ -432,8 +452,8 @@ am__depfiles_maybe = depfiles
 @AMDEP_TRUE@@KDE_USE_FINAL_TRUE@	@AMDEP_TRUE@	./$(DEPDIR)/kbookmarkhandler.Plo \
 @AMDEP_TRUE@@KDE_USE_FINAL_TRUE@	@AMDEP_TRUE@	./$(DEPDIR)/kwritedialogs.Plo \
 @AMDEP_TRUE@@KDE_USE_FINAL_TRUE@	@AMDEP_TRUE@	./$(DEPDIR)/kwritemain.Plo
-@AMDEP_TRUE@@KDE_USE_FINAL_FALSE@DEP_FILES =  $(DEPDIR)/kateIface_skel.P  ./$(DEPDIR)/dummy_kate.Po \
-@AMDEP_TRUE@@KDE_USE_FINAL_FALSE@	@AMDEP_TRUE@	./$(DEPDIR)/dummy_kwrite.Po \
+@AMDEP_TRUE@@KDE_USE_FINAL_FALSE@DEP_FILES =  $(DEPDIR)/kateIface_skel.P  ./$(DEPDIR)/dummy_main.Plo \
+@AMDEP_TRUE@@KDE_USE_FINAL_FALSE@	@AMDEP_TRUE@	./$(DEPDIR)/dummy_main.Po \
 @AMDEP_TRUE@@KDE_USE_FINAL_FALSE@	@AMDEP_TRUE@	./$(DEPDIR)/kactionselector.Plo \
 @AMDEP_TRUE@@KDE_USE_FINAL_FALSE@	@AMDEP_TRUE@	./$(DEPDIR)/kateapp.Plo \
 @AMDEP_TRUE@@KDE_USE_FINAL_FALSE@	@AMDEP_TRUE@	./$(DEPDIR)/kateconfigdialog.Plo \
@@ -476,10 +496,10 @@ CXXLINK = $(LIBTOOL) --mode=link --tag=C
 	$(AM_LDFLAGS) $(LDFLAGS) -o $@
 CXXFLAGS = @CXXFLAGS@
 DIST_SOURCES = $(kate_la_SOURCES) $(kwrite_la_SOURCES) \
-	$(libkateinterfaces_la_SOURCES) $(kate_SOURCES) \
-	$(kwrite_SOURCES)
+	$(libkate_main_la_SOURCES) $(libkateinterfaces_la_SOURCES) \
+	$(libkwrite_main_la_SOURCES) $(kate_SOURCES) $(kwrite_SOURCES)
 DIST_COMMON = Makefile.am Makefile.in
-SOURCES = $(kate_la_SOURCES) $(kwrite_la_SOURCES) $(libkateinterfaces_la_SOURCES) $(kate_SOURCES) $(kwrite_SOURCES)
+SOURCES = $(kate_la_SOURCES) $(kwrite_la_SOURCES) $(libkate_main_la_SOURCES) $(libkateinterfaces_la_SOURCES) $(libkwrite_main_la_SOURCES) $(kate_SOURCES) $(kwrite_SOURCES)
 
 #>- all: all-am
 #>+ 1
@@ -528,8 +548,12 @@ kate.la: $(kate_la_OBJECTS) $(kate_la_DE
 	$(CXXLINK) -rpath $(libdir) $(kate_la_LDFLAGS) $(kate_la_OBJECTS) $(kate_la_LIBADD) $(LIBS)
 kwrite.la: $(kwrite_la_OBJECTS) $(kwrite_la_DEPENDENCIES) 
 	$(CXXLINK) -rpath $(libdir) $(kwrite_la_LDFLAGS) $(kwrite_la_OBJECTS) $(kwrite_la_LIBADD) $(LIBS)
+libkate_main.la: $(libkate_main_la_OBJECTS) $(libkate_main_la_DEPENDENCIES) 
+	$(CXXLINK) -rpath $(libdir) $(libkate_main_la_LDFLAGS) $(libkate_main_la_OBJECTS) $(libkate_main_la_LIBADD) $(LIBS)
 libkateinterfaces.la: $(libkateinterfaces_la_OBJECTS) $(libkateinterfaces_la_DEPENDENCIES) 
 	$(CXXLINK) -rpath $(libdir) $(libkateinterfaces_la_LDFLAGS) $(libkateinterfaces_la_OBJECTS) $(libkateinterfaces_la_LIBADD) $(LIBS)
+libkwrite_main.la: $(libkwrite_main_la_OBJECTS) $(libkwrite_main_la_DEPENDENCIES) 
+	$(CXXLINK) -rpath $(libdir) $(libkwrite_main_la_LDFLAGS) $(libkwrite_main_la_OBJECTS) $(libkwrite_main_la_LIBADD) $(LIBS)
 binPROGRAMS_INSTALL = $(INSTALL_PROGRAM)
 install-binPROGRAMS: $(bin_PROGRAMS)
 	@$(NORMAL_INSTALL)
@@ -572,8 +596,8 @@ mostlyclean-compile:
 distclean-compile:
 	-rm -f *.tab.c
 
-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/dummy_kate.Po@am__quote@
-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/dummy_kwrite.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/dummy_main.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/dummy_main.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/kactionselector.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/kateapp.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/kateconfigdialog.Plo@am__quote@
@@ -665,7 +689,7 @@ distclean-tags:
 	-rm -f TAGS ID GTAGS GRTAGS GSYMS GPATH
 #>- DISTFILES = $(DIST_COMMON) $(DIST_SOURCES) $(TEXINFOS) $(EXTRA_DIST)
 #>+ 4
-KDE_DIST=katefilelist.cpp katefiledialog.h katemailfilesdialog.h kateapp.h katepluginmanager.h kategrepdialog.cpp katefileselector.h katedocmanager.h katesplitter.cpp kateviewmanager.cpp kateviewspace.h katemain.h katedockcontainer.cpp kateconsole.cpp kateconfigplugindialogpage.h katesplitter.h kactionselector.h kateconfigdialog.h katemainwindow.h kwritemain.h katepluginmanager.cpp kbookmarkhandler.h kateviewmanager.h katemailfilesdialog.cpp kateIface.h katedocmanager.cpp katefilelist.h kwritedialogs.h kbookmarkhandler.cpp katefileselector.cpp kateconsole.h kateviewspace.cpp katemainwindow.cpp kactionselector.cpp katedockcontainer.h kategrepdialog.h 
+KDE_DIST=katemailfilesdialog.h katefileselector.h kateIface.h katemainwindow.cpp kateviewspace.cpp kateapp.h kbookmarkhandler.h katemailfilesdialog.cpp kactionselector.cpp katefiledialog.h katesplitter.h kwritemain.h kategrepdialog.cpp kateconfigplugindialogpage.h kateviewmanager.cpp kwritedialogs.h kategrepdialog.h kateviewspace.h katesplitter.cpp katemain.h kateconfigdialog.h katefilelist.cpp katedockcontainer.h kactionselector.h katefileselector.cpp katepluginmanager.h kateconsole.h katedockcontainer.cpp kateconsole.cpp katefilelist.h katemainwindow.h kateviewmanager.h katedocmanager.h katedocmanager.cpp katepluginmanager.cpp kbookmarkhandler.cpp 
 
 DISTFILES= $(DIST_COMMON) $(DIST_SOURCES) $(TEXINFOS) $(EXTRA_DIST) $(KDE_DIST)
 
@@ -788,91 +812,85 @@ uninstall-am: uninstall-binPROGRAMS unin
 
 dummy_kate_la.cpp:
 	echo > dummy_kate_la.cpp
-
-dummy_kate.cpp:
-	echo > dummy_kate.cpp
-
-dummy_kwrite.cpp:
-	echo > dummy_kwrite.cpp
 # Tell versions [3.59,3.63) of GNU make to not export all variables.
 # Otherwise a system limit (for SysV at least) may be exceeded.
 .NOEXPORT:
 
 #>+ 3
+katefilelist.moc: $(srcdir)/katefilelist.h
+	$(MOC) $(srcdir)/katefilelist.h -o katefilelist.moc
+
+#>+ 3
 kateconfigdialog.moc: $(srcdir)/kateconfigdialog.h
 	$(MOC) $(srcdir)/kateconfigdialog.h -o kateconfigdialog.moc
 
 #>+ 3
-kateconsole.moc: $(srcdir)/kateconsole.h
-	$(MOC) $(srcdir)/kateconsole.h -o kateconsole.moc
+kateconfigplugindialogpage.moc: $(srcdir)/kateconfigplugindialogpage.h
+	$(MOC) $(srcdir)/kateconfigplugindialogpage.h -o kateconfigplugindialogpage.moc
 
 #>+ 3
 katemainwindow.moc: $(srcdir)/katemainwindow.h
 	$(MOC) $(srcdir)/katemainwindow.h -o katemainwindow.moc
 
 #>+ 3
-katedocmanager.moc: $(srcdir)/katedocmanager.h
-	$(MOC) $(srcdir)/katedocmanager.h -o katedocmanager.moc
+katemailfilesdialog.moc: $(srcdir)/katemailfilesdialog.h
+	$(MOC) $(srcdir)/katemailfilesdialog.h -o katemailfilesdialog.moc
 
 #>+ 3
-kategrepdialog.moc: $(srcdir)/kategrepdialog.h
-	$(MOC) $(srcdir)/kategrepdialog.h -o kategrepdialog.moc
+kbookmarkhandler.moc: $(srcdir)/kbookmarkhandler.h
+	$(MOC) $(srcdir)/kbookmarkhandler.h -o kbookmarkhandler.moc
 
 #>+ 3
-kwritemain.moc: $(srcdir)/kwritemain.h
-	$(MOC) $(srcdir)/kwritemain.h -o kwritemain.moc
+kactionselector.moc: $(srcdir)/kactionselector.h
+	$(MOC) $(srcdir)/kactionselector.h -o kactionselector.moc
 
 #>+ 3
-kateviewspace.moc: $(srcdir)/kateviewspace.h
-	$(MOC) $(srcdir)/kateviewspace.h -o kateviewspace.moc
+katedockcontainer.moc: $(srcdir)/katedockcontainer.h
+	$(MOC) $(srcdir)/katedockcontainer.h -o katedockcontainer.moc
 
 #>+ 3
-kbookmarkhandler.moc: $(srcdir)/kbookmarkhandler.h
-	$(MOC) $(srcdir)/kbookmarkhandler.h -o kbookmarkhandler.moc
+kategrepdialog.moc: $(srcdir)/kategrepdialog.h
+	$(MOC) $(srcdir)/kategrepdialog.h -o kategrepdialog.moc
 
 #>+ 3
-katefiledialog.moc: $(srcdir)/katefiledialog.h
-	$(MOC) $(srcdir)/katefiledialog.h -o katefiledialog.moc
+kateconsole.moc: $(srcdir)/kateconsole.h
+	$(MOC) $(srcdir)/kateconsole.h -o kateconsole.moc
 
 #>+ 3
 katefileselector.moc: $(srcdir)/katefileselector.h
 	$(MOC) $(srcdir)/katefileselector.h -o katefileselector.moc
 
 #>+ 3
-katedockcontainer.moc: $(srcdir)/katedockcontainer.h
-	$(MOC) $(srcdir)/katedockcontainer.h -o katedockcontainer.moc
-
-#>+ 3
-katepluginmanager.moc: $(srcdir)/katepluginmanager.h
-	$(MOC) $(srcdir)/katepluginmanager.h -o katepluginmanager.moc
+katesplitter.moc: $(srcdir)/katesplitter.h
+	$(MOC) $(srcdir)/katesplitter.h -o katesplitter.moc
 
 #>+ 3
-katemailfilesdialog.moc: $(srcdir)/katemailfilesdialog.h
-	$(MOC) $(srcdir)/katemailfilesdialog.h -o katemailfilesdialog.moc
+kateviewmanager.moc: $(srcdir)/kateviewmanager.h
+	$(MOC) $(srcdir)/kateviewmanager.h -o kateviewmanager.moc
 
 #>+ 3
-katefilelist.moc: $(srcdir)/katefilelist.h
-	$(MOC) $(srcdir)/katefilelist.h -o katefilelist.moc
+kwritemain.moc: $(srcdir)/kwritemain.h
+	$(MOC) $(srcdir)/kwritemain.h -o kwritemain.moc
 
 #>+ 3
 kateapp.moc: $(srcdir)/kateapp.h
 	$(MOC) $(srcdir)/kateapp.h -o kateapp.moc
 
 #>+ 3
-katesplitter.moc: $(srcdir)/katesplitter.h
-	$(MOC) $(srcdir)/katesplitter.h -o katesplitter.moc
+kateviewspace.moc: $(srcdir)/kateviewspace.h
+	$(MOC) $(srcdir)/kateviewspace.h -o kateviewspace.moc
 
 #>+ 3
-kateviewmanager.moc: $(srcdir)/kateviewmanager.h
-	$(MOC) $(srcdir)/kateviewmanager.h -o kateviewmanager.moc
+katefiledialog.moc: $(srcdir)/katefiledialog.h
+	$(MOC) $(srcdir)/katefiledialog.h -o katefiledialog.moc
 
 #>+ 3
-kactionselector.moc: $(srcdir)/kactionselector.h
-	$(MOC) $(srcdir)/kactionselector.h -o kactionselector.moc
+katedocmanager.moc: $(srcdir)/katedocmanager.h
+	$(MOC) $(srcdir)/katedocmanager.h -o katedocmanager.moc
 
 #>+ 3
-kateconfigplugindialogpage.moc: $(srcdir)/kateconfigplugindialogpage.h
-	$(MOC) $(srcdir)/kateconfigplugindialogpage.h -o kateconfigplugindialogpage.moc
+katepluginmanager.moc: $(srcdir)/katepluginmanager.h
+	$(MOC) $(srcdir)/katepluginmanager.h -o katepluginmanager.moc
 
 #>+ 3
 kwritedialogs.moc: $(srcdir)/kwritedialogs.h
@@ -886,7 +904,7 @@ kateIface_skel.cpp: kateIface.kidl
 
 #>+ 3
 clean-metasources:
-	-rm -f  kateconfigdialog.moc kateconsole.moc katemainwindow.moc katedocmanager.moc kategrepdialog.moc kwritemain.moc kateviewspace.moc kbookmarkhandler.moc katefiledialog.moc katefileselector.moc katedockcontainer.moc katepluginmanager.moc katemailfilesdialog.moc katefilelist.moc kateapp.moc katesplitter.moc kateviewmanager.moc kactionselector.moc kateconfigplugindialogpage.moc kwritedialogs.moc
+	-rm -f  katefilelist.moc kateconfigdialog.moc kateconfigplugindialogpage.moc katemainwindow.moc katemailfilesdialog.moc kbookmarkhandler.moc kactionselector.moc katedockcontainer.moc kategrepdialog.moc kateconsole.moc katefileselector.moc katesplitter.moc kateviewmanager.moc kwritemain.moc kateapp.moc kateviewspace.moc katefiledialog.moc katedocmanager.moc katepluginmanager.moc kwritedialogs.moc
 
 #>+ 4
 clean-idl:
@@ -904,19 +922,7 @@ force-reedit:
 
 
 #>+ 11
-kwrite_la.all_cpp.cpp: $(srcdir)/Makefile.in $(srcdir)/kwritemain.cpp $(srcdir)/katefiledialog.cpp $(srcdir)/kwritedialogs.cpp  kwritemain.moc katefiledialog.moc kwritedialogs.moc
-	@echo 'creating kwrite_la.all_cpp.cpp ...'; \
-	rm -f kwrite_la.all_cpp.files kwrite_la.all_cpp.final; \
-	echo "#define KDE_USE_FINAL 1" >> kwrite_la.all_cpp.final; \
-	for file in kwritemain.cpp katefiledialog.cpp kwritedialogs.cpp ; do \
-	  echo "#include \"$$file\"" >> kwrite_la.all_cpp.files; \
-	  test ! -f $(srcdir)/$$file || egrep '^#pragma +implementation' $(srcdir)/$$file >> kwrite_la.all_cpp.final; \
-	done; \
-	cat kwrite_la.all_cpp.final kwrite_la.all_cpp.files > kwrite_la.all_cpp.cpp; \
-	rm -f kwrite_la.all_cpp.final kwrite_la.all_cpp.files
-
-#>+ 11
-libkateinterfaces_la.all_cpp.cpp: $(srcdir)/Makefile.in $(srcdir)/kateapp.cpp $(srcdir)/kateconfigdialog.cpp $(srcdir)/kateconfigplugindialogpage.cpp $(srcdir)/kateconsole.cpp $(srcdir)/katedocmanager.cpp $(srcdir)/katefilelist.cpp $(srcdir)/katefileselector.cpp $(srcdir)/katemainwindow.cpp $(srcdir)/katepluginmanager.cpp $(srcdir)/katesplitter.cpp $(srcdir)/kateviewmanager.cpp $(srcdir)/kateviewspace.cpp $(srcdir)/kategrepdialog.cpp $(srcdir)/katefiledialog.cpp $(srcdir)/katemailfilesdialog.cpp $(srcdir)/kbookmarkhandler.cpp $(srcdir)/kactionselector.cpp $(srcdir)/katedockcontainer.cpp kateIface_skel.cpp  kateconfigdialog.moc katemainwindow.moc kateconsole.moc katedocmanager.moc kategrepdialog.moc kateviewspace.moc kbookmarkhandler.moc katefileselector.moc katefiledialog.moc katedockcontainer.moc katepluginmanager.moc katemailfilesdialog.moc katefilelist.moc kateapp.moc katesplitter.moc kateviewmanager.moc kactionselector.moc kateconfigplugindialogpage.moc
+libkateinterfaces_la.all_cpp.cpp: $(srcdir)/Makefile.in $(srcdir)/kateapp.cpp $(srcdir)/kateconfigdialog.cpp $(srcdir)/kateconfigplugindialogpage.cpp $(srcdir)/kateconsole.cpp $(srcdir)/katedocmanager.cpp $(srcdir)/katefilelist.cpp $(srcdir)/katefileselector.cpp $(srcdir)/katemainwindow.cpp $(srcdir)/katepluginmanager.cpp $(srcdir)/katesplitter.cpp $(srcdir)/kateviewmanager.cpp $(srcdir)/kateviewspace.cpp $(srcdir)/kategrepdialog.cpp $(srcdir)/katefiledialog.cpp $(srcdir)/katemailfilesdialog.cpp $(srcdir)/kbookmarkhandler.cpp $(srcdir)/kactionselector.cpp $(srcdir)/katedockcontainer.cpp kateIface_skel.cpp  katefilelist.moc kbookmarkhandler.moc katemailfilesdialog.moc katemainwindow.moc kateconfigplugindialogpage.moc kateconfigdialog.moc kactionselector.moc katedockcontainer.moc kateconsole.moc kategrepdialog.moc katefileselector.moc katesplitter.moc kateviewmanager.moc kateapp.moc kateviewspace.moc katefiledialog.moc katedocmanager.moc katepluginmanager.moc
 	@echo 'creating libkateinterfaces_la.all_cpp.cpp ...'; \
 	rm -f libkateinterfaces_la.all_cpp.files libkateinterfaces_la.all_cpp.final; \
 	echo "#define KDE_USE_FINAL 1" >> libkateinterfaces_la.all_cpp.final; \
@@ -927,22 +933,34 @@ libkateinterfaces_la.all_cpp.cpp: $(srcd
 	cat libkateinterfaces_la.all_cpp.final libkateinterfaces_la.all_cpp.files > libkateinterfaces_la.all_cpp.cpp; \
 	rm -f libkateinterfaces_la.all_cpp.final libkateinterfaces_la.all_cpp.files
 
+#>+ 11
+libkwrite_main_la.all_cpp.cpp: $(srcdir)/Makefile.in $(srcdir)/kwritemain.cpp $(srcdir)/katefiledialog.cpp $(srcdir)/kwritedialogs.cpp  kwritemain.moc katefiledialog.moc kwritedialogs.moc
+	@echo 'creating libkwrite_main_la.all_cpp.cpp ...'; \
+	rm -f libkwrite_main_la.all_cpp.files libkwrite_main_la.all_cpp.final; \
+	echo "#define KDE_USE_FINAL 1" >> libkwrite_main_la.all_cpp.final; \
+	for file in kwritemain.cpp katefiledialog.cpp kwritedialogs.cpp ; do \
+	  echo "#include \"$$file\"" >> libkwrite_main_la.all_cpp.files; \
+	  test ! -f $(srcdir)/$$file || egrep '^#pragma +implementation' $(srcdir)/$$file >> libkwrite_main_la.all_cpp.final; \
+	done; \
+	cat libkwrite_main_la.all_cpp.final libkwrite_main_la.all_cpp.files > libkwrite_main_la.all_cpp.cpp; \
+	rm -f libkwrite_main_la.all_cpp.final libkwrite_main_la.all_cpp.files
+
 #>+ 3
 clean-final:
-	-rm -f kwrite_la.all_cpp.cpp libkateinterfaces_la.all_cpp.cpp
+	-rm -f libkateinterfaces_la.all_cpp.cpp libkwrite_main_la.all_cpp.cpp
 
 #>+ 2
 final:
-	$(MAKE) kwrite_la_OBJECTS="$(kwrite_la_final_OBJECTS)" libkateinterfaces_la_OBJECTS="$(libkateinterfaces_la_final_OBJECTS)" all-am
+	$(MAKE) libkateinterfaces_la_OBJECTS="$(libkateinterfaces_la_final_OBJECTS)" libkwrite_main_la_OBJECTS="$(libkwrite_main_la_final_OBJECTS)" all-am
 #>+ 2
 final-install:
-	$(MAKE) kwrite_la_OBJECTS="$(kwrite_la_final_OBJECTS)" libkateinterfaces_la_OBJECTS="$(libkateinterfaces_la_final_OBJECTS)" install-am
+	$(MAKE) libkateinterfaces_la_OBJECTS="$(libkateinterfaces_la_final_OBJECTS)" libkwrite_main_la_OBJECTS="$(libkwrite_main_la_final_OBJECTS)" install-am
 #>+ 2
 no-final:
-	$(MAKE) kwrite_la_OBJECTS="$(kwrite_la_nofinal_OBJECTS)" libkateinterfaces_la_OBJECTS="$(libkateinterfaces_la_nofinal_OBJECTS)" all-am
+	$(MAKE) libkateinterfaces_la_OBJECTS="$(libkateinterfaces_la_nofinal_OBJECTS)" libkwrite_main_la_OBJECTS="$(libkwrite_main_la_nofinal_OBJECTS)" all-am
 #>+ 2
 no-final-install:
-	$(MAKE) kwrite_la_OBJECTS="$(kwrite_la_nofinal_OBJECTS)" libkateinterfaces_la_OBJECTS="$(libkateinterfaces_la_nofinal_OBJECTS)" install-am
+	$(MAKE) libkateinterfaces_la_OBJECTS="$(libkateinterfaces_la_nofinal_OBJECTS)" libkwrite_main_la_OBJECTS="$(libkwrite_main_la_nofinal_OBJECTS)" install-am
 #>+ 3
 cvs-clean:
 	$(MAKE) admindir=$(top_srcdir)/admin -f $(top_srcdir)/admin/Makefile.common cvs-clean
@@ -952,43 +970,43 @@ kde-rpo-clean:
 	-rm -f *.rpo
 
 #>+ 41
-kategrepdialog.o: kategrepdialog.moc 
-kateapp.o: kateapp.moc 
-katesplitter.lo: katesplitter.moc 
+kateapp.lo: kateapp.moc 
+katemainwindow.lo: katemainwindow.moc 
+kateconfigplugindialogpage.lo: kateconfigplugindialogpage.moc 
+katemailfilesdialog.o: katemailfilesdialog.moc 
+katefileselector.o: katefileselector.moc 
 kateconsole.lo: kateconsole.moc 
 kbookmarkhandler.o: kbookmarkhandler.moc 
-kactionselector.o: kactionselector.moc 
-kategrepdialog.lo: kategrepdialog.moc 
+kateapp.o: kateapp.moc 
+katefiledialog.lo: katefiledialog.moc 
+katefiledialog.o: katefiledialog.moc 
+katedocmanager.lo: katedocmanager.moc 
 katesplitter.o: katesplitter.moc 
-katefileselector.lo: katefileselector.moc 
 kwritemain.o: kwritemain.moc 
-kwritedialogs.lo: kwritedialogs.moc 
-kateconfigplugindialogpage.lo: kateconfigplugindialogpage.moc 
-katedockcontainer.lo: katedockcontainer.moc 
-kateconfigplugindialogpage.o: kateconfigplugindialogpage.moc 
-katefileselector.o: katefileselector.moc 
-katefiledialog.o: katefiledialog.moc 
-kateconsole.o: kateconsole.moc 
+katemailfilesdialog.lo: katemailfilesdialog.moc 
+katefilelist.lo: katefilelist.moc 
 kactionselector.lo: kactionselector.moc 
-kateviewmanager.o: kateviewmanager.moc 
-katemainwindow.lo: katemainwindow.moc 
+katesplitter.lo: katesplitter.moc 
+kateconfigplugindialogpage.o: kateconfigplugindialogpage.moc 
+kwritemain.lo: kwritemain.moc 
 kwritedialogs.o: kwritedialogs.moc 
+kwritedialogs.lo: kwritedialogs.moc 
+kategrepdialog.o: kategrepdialog.moc 
+kateviewspace.o: kateviewspace.moc 
+katepluginmanager.lo: katepluginmanager.moc 
 kateconfigdialog.o: kateconfigdialog.moc 
-kwritemain.lo: kwritemain.moc 
-kateviewmanager.lo: kateviewmanager.moc 
-katefiledialog.lo: katefiledialog.moc 
 katedockcontainer.o: katedockcontainer.moc 
-kbookmarkhandler.lo: kbookmarkhandler.moc 
+kactionselector.o: kactionselector.moc 
+katepluginmanager.o: katepluginmanager.moc 
+kateconsole.o: kateconsole.moc 
+kategrepdialog.lo: kategrepdialog.moc 
+katefilelist.o: katefilelist.moc 
 katemainwindow.o: katemainwindow.moc 
-katedocmanager.lo: katedocmanager.moc 
+kateviewmanager.o: kateviewmanager.moc 
+kbookmarkhandler.lo: kbookmarkhandler.moc 
+kateviewspace.lo: kateviewspace.moc 
 katedocmanager.o: katedocmanager.moc 
+katedockcontainer.lo: katedockcontainer.moc 
 kateconfigdialog.lo: kateconfigdialog.moc 
-katepluginmanager.lo: katepluginmanager.moc 
-katemailfilesdialog.o: katemailfilesdialog.moc 
-katemailfilesdialog.lo: katemailfilesdialog.moc 
-katefilelist.lo: katefilelist.moc 
-katepluginmanager.o: katepluginmanager.moc 
-kateviewspace.o: kateviewspace.moc 
-kateviewspace.lo: kateviewspace.moc 
-katefilelist.o: katefilelist.moc 
-kateapp.lo: kateapp.moc 
+katefileselector.lo: katefileselector.moc 
+kateviewmanager.lo: kateviewmanager.moc 
