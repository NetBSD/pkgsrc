PKGLINT(1)                  NetBSD Reference Manual                 PKGLINT(1)

NNAAMMEE
     ppkkgglliinntt - a verifier for pkgsrc directories

SSYYNNOOPPSSIISS
     ppkkgglliinntt [--ooppttiioonnss] [_d_i_r _._._.]

DDEESSCCRRIIPPTTIIOONN
     ppkkgglliinntt attempts to detect features of the named pkgsrc packages that are
     likely to be bugs, or that are simply deprecated.  The pkgsrc system is
     changing rapidly towards even more portability.  The job of ppkkgglliinntt is to
     define the rules that make up ``good'' packages and to allow automatic
     conformance tests.  Packages following these rules are assumed to make
     future changes to the pkgsrc infrastructure easier.

     OOppttiioonnss

           --CC{{[[nnoo--]]cchheecckk,,......}}  Enable or disable specific checks.  For a list
                               of checks, see below.

           --hh|----hheellpp           Show the summary of command line options, then
                               exit.

           --II                  Show the Makefile that is constructed by in-
                               cluding all the files that are slurped in via
                               .include directives.  This flag is mainly for
                               debugging.

           --RR|----rrccssiiddssttrriinngg    Allow other RCS Id strings than NetBSD.  Multi-
                               ple strings may be concatenated with `|'.

           --qq|----qquuiieett          Don't print the errors and warnings summary be-
                               fore terminating.

           --vv|----vveerrbboossee        Be verbose.  Show the progress report for items
                               that are being checked.

           --WW{{[[nnoo--]]wwaarrnn,,......}}   Enable or disable specific warnings.  For a
                               list of warnings, see below.

     CChheecckkss

           aallll                 Enable all checks.

           nnoonnee                Disable all checks.

           [[nnoo--]]MMaakkeeffiillee       Check the package Makefile, including all in-
                               cluded files.

           [[nnoo--]]MMEESSSSAAGGEE        Check MESSAGE files.

           [[nnoo--]]PPLLIISSTT          Check PLIST files.

           [[nnoo--]]ddiissttiinnffoo       Check the distinfo file.

           [[nnoo--]]eexxttrraa          Check remaining files in the package directory.

           [[nnoo--]]ppaattcchheess        Check the pkgsrc specific patch files.

     WWaarrnniinnggss

           aallll                 Enable all warnings.

           nnoonnee                Disable all warnings.

           [[nnoo--]]aabbssnnaammee        Warn if a file contains an absolute pathname.

           [[nnoo--]]ddiirreeccttccmmdd      Warn if a system command name is used instead
                               of a variable (e.g. sed instead of ${SED}).

           [[nnoo--]]eexxeecc           Warn if a file in the package directory is exe-
                               cutable.  Most files should not be executable
                               until they are installed.

           [[nnoo--]]oorrddeerr          Warn if Makefile variables are not in the pre-
                               ferred order.

           [[nnoo--]]ppaarreenn          Warn if variables are used like $(VAR) in Make-
                               files.  They should always be used like ${VAR}.

           [[nnoo--]]pplliisstt--ssoorrtt     Warn if items of a PLIST file are not sorted
                               alphabetically.  This warning is disabled by
                               default.

           [[nnoo--]]ttyyppeess          Warn for some Makefile variables if their as-
                               signed values do not match their type.

           [[nnoo--]]wwoorrkkddiirr        Warn about existing _w_o_r_k_* directories.  They
                               might be committed to CVS accidentally.

     OOtthheerr aarrgguummeennttss

           _d_i_r _._._.             The pkgsrc directories to be checked.  If omit-
                               ted, the current directory is checked.

FFIILLEESS
     @PKGSRCDIR@/mk/bsd.pkg.mk  The pkgsrc master Makefile.
     @PKGSRCDIR@/*              Other pkgsrc files.

EEXXAAMMPPLLEESS
     ppkkgglliinntt --CCnnoonnee,,ppaattcchheess ..
                 Checks the patches of the package in the current directory.

     ppkkgglliinntt --WWaallll //uussrr//ppkkggssrrcc//ddeevveell
                 Checks the category Makefile and reports any warnings it can
                 find.

     ppkkgglliinntt --rr --RR ''NNeettBBSSDD||IIdd'' //uussrr//ppkkggssrrcc
                 Check the whole pkgsrc tree while allowing `NetBSD' or `Id'
                 as the RCS Id.

DDIIAAGGNNOOSSTTIICCSS
     Diagnostics are written to the standard output.

     ERROR: ...    Errors should be fixed before a package is committed to
                   pkgsrc.

     WARN: ...     Warnings generally should be fixed, but they are not as
                   critical as errors.

     OK: ...       Informational messages are only written in verbose mode
                   (--vv). Their main use is to aid debugging.

AAUUTTHHOORRSS
     Jun-ichiro Itoh <itojun@itojun.org>
     Yoshishige Arai <ryo2@on.rim.or.jp>
     Roland Illig <rillig@NetBSD.org>

     Many people have contributed patches and comments/suggestions.

BBUUGGSS
     Many more checks could be added.

     If you don't understand the messages, feel free to ask on the <tech-
     pkg@NetBSD.org> mailing list.

                              September 28, 2005                             3
