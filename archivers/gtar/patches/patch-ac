$NetBSD: patch-ac,v 1.1 1998/08/15 00:12:10 tv Exp $

--- intl/xopen-msg.sed.orig	Mon Apr  7 00:28:52 1997
+++ intl/xopen-msg.sed	Fri Aug 14 19:18:49 1998
@@ -81,6 +81,8 @@
   G
   s/^[^\n]*$/& /
   s/\(.*\)\n\([0-9]*\)/\2 \1/
+# Change escaped quotes into regular quotes.
+  s/\\*"/"/g
 # Clear flag from last substitution.
   tb
 # Append the next line.
@@ -90,12 +92,16 @@
   s/\(.*\n\)"\(.*\)"/\1\2/
 # Yes, then branch.
   ta
+# Comment out if no message exists.
+  s/^\([0-9]* *\n\)/$ \1/
   P
   D
 # Note that `D' includes a jump to the start!!
 # We found a continuation line.  But before printing insert '\'.
   :a
   s/\(.*\)\(\n.*\)/\1\\\2/
+# Change escaped quotes into regular quotes.
+  s/\\*"/"/g
   P
 # We cannot use the sed command `D' here
   s/.*\n\(.*\)/\1/
